---
title: ë¬´í•œ íš¡ìŠ¤í¬ë¡¤ í‘œí˜„
created: 2024-03-19 10:44
last-updated: 2024-03-19 11:43
tags:
  - gameDev
  - toyproject
---

```ad-note
title: í‚¤ì›Œë“œ
- parallx scrolling
```

## ğŸ‘¯â€â™‚ï¸ ë¬´í•œ íš¡ìŠ¤í¬ë¡¤ ì–´ë–»ê²Œ í˜„ í•  ê²ƒì¸ê°€?, Parallax Scroll

ë‚´ ëª©í‘œëŠ” í¬ë¡¬ ë‹¤ì´ë…¸ ê²Œì„ í—ˆì ‘í•œ ë²„ì „ì„ ë§Œë“œëŠ”ê²ƒì´ë‹¤ 

| í¬ë¡¬ ë‹¤ì´ë…¸                             | parallax scrollì´ë€                    | parallx scrollì ìš© ìœ ëª…ê²Œì„                            |
| ---------------------------------- | ------------------------------------ | ------------------------------------------------ |
| ![](https://imgur.com/elhVFGM.png) | ![](https://i.imgur.com/NLnvbid.png) | ![](https://www.youtube.com/watch?v=3VdFCSR1kOI) |
|                                    |                                      |                                                  |


ë³´ë©´ í‹°ë¼ë…¸ëŠ” ê³„ì† ë›°ê³  ë’¤ì˜ êµ¬ë¦„ë„ ë°˜ë³µí•´ì„œ ê³„ì† ë‚˜ì˜¨ë‹¤..ì´ê²Œ ë­”ê°€í•´ì„œ ì°¾ì•„ë³´ë‹ˆ ì´ëŸ´ê±¸

> ì°¾ì•„ë³´ë‹ˆ íŒ¨ëŸ´ëŸ­ìŠ¤ ìŠ¤í¬ë¡¤ë§ì´ë¼ê³ í•˜ëŠ”ë° ì—¬ëŸ¬ê°œì˜ ë°°ê²½ ë ˆì´ì–´ê°€ ìˆì„ ë•Œ ê°€ì¥ ì•ì— ìˆëŠ” ë ˆì´ì–´ì˜ ì†ë„ê°€ ë¹ ë¥´ê²Œ ì›€ì§ì´ê³  ë’¤ì— ìˆëŠ” ë ˆì´ì–´ë“¤ì€ ê°ˆìˆ˜ë¡ ì²œì²œíˆ ì›€ì§ì—¬ ì°©ì‹œíš¨ê³¼ë¡œ ê¹Šì´ê°ì„ ì£¼ëŠ” ê¸°ë²•ì„ ë§í•œë‹¤

ë‚´ê°€ êµ¬í˜„í•˜ê³  ì‹¶ì€ê²ƒì€ ì—¬ëŸ¬ê°œì˜ ë°°ê²½ì€ ì•„ë‹ˆê¸´ í•˜ì§€ë§Œ ê²€ìƒ‰í•˜ë©´ ëŒ€ë¶€ë¶„ì˜ ìœ íŠœë¸Œì—ì„œ í¬ë¡¬ í‹°ë¼ë…¸ ê²Œì„ì„ íŒ¨ëŸ´ëŸ­ìŠ¤ ìŠ¤í¬ë¡¤ë§ì´ë¼ê³  ì¹­í•´ì„œ ê·¸ëƒ¥ ê·¸ë ‡ê²Œ ìƒê°í•˜ê¸°ë¡œí–ˆë‹¤â€¦

![](https://imgur.com/7nUg6KV.png)



## ğŸ‘¯â€â™‚ï¸ ë¬´í•œíˆ ê³„ì† ì´ì–´ì§€ëŠ” ë•…ì„ ë§Œë“¤ì

- ë°°ê²½ì€ ê°€ë§Œíˆ ìˆê³  ë•…ì€ ê³„ì†í•´ì„œ ë‚˜ì˜¤ê²Œ ë§Œë“¤ì–´ì•¼í•œë‹¤
- ì‚¬ì‹¤ ì´ê²ƒë„ ë˜ê²Œ ê°„ë‹¨í•œ ê²ƒ ê°™ë‹¤.. ê·¸ëƒ¥ ë­”ê°€  `ë•…*9999999` ì´ëŸ°ì‹ìœ¼ë¡œ í•  ìˆœì—†ë‚˜? í•˜ì§€ë§Œ ê²Œì„ í™”ë©´ë‚´ì—ì„œ ë³´ì—¬ ì¤„ ìˆ˜ ìˆëŠ”ê²Œ í•œì •ì ì´ë‹ˆ ë§ì´ ì•ˆë˜ê¸´í•¨
- ê·¸ëŸ¬ë©´ ë•…ì´ ê³„ì† ë°˜ë³µí•´ì„œ ë‚˜ì˜¤ë„ë¡í•˜ì!

ì”¬ì€ ì•„ë˜ì²˜ëŸ¼ êµ¬ì„±ë˜ì–´ìˆê³  
```
World(Node2D)
- Player(CharacterBody2D)
- GroundContainer(Node2D)
- ParallaxBackground(ParallaxBackground)
```
ì•„ë˜ëŠ” `GroundContainer` ì”¬ê³¼ ì—°ê²°ëœ ìŠ¤í¬ë¦½íŠ¸ì´ë‹¤.
```python
extends Node2D
const ground = preload("res://tile_map.tscn")
const groundwidth = 5785
var spawn_position = global_position
@onready var player = get_parent().get_node("Player")
# Called when the node enters the scene tree for the first time.
func _ready():

	pass

func _process(delta):
	if player.global_position.x > spawn_position.x - groundwidth: # Add 
		spawn_ground()


func spawn_ground():		
	var instance = ground.instantiate()
	add_child(instance)
	instance.global_position.x = spawn_position.x
	instance.global_position.y = 70
	spawn_position.x += groundwidth

# TODO! ì²˜ìŒì— ì¸ìŠ¤í„´ìŠ¤ê°€ ë‘ê°œì”© ìƒì„±ë¼ì„œ ê°•ì œë¡œ ì‚­ì œ í™”ë©´ì—ì„œ ì‚­ã…ˆì œ ë¶€ìì—°ìŠ¤ëŸ¬
	if get_child_count() > 2 :
		get_children()[0].queue_free()
```

ì½”ë“œë¥¼ ìì„¸íˆ ë³´ìë©´


```python
if player.global_position.x > spawn_position.x - groundwidth:
	spawn_ground()
```



1. í”Œë ˆì´ì–´ì˜ ìœ„ì¹˜(`player.global_position.x`)ê°€ íŠ¹ì • ì¡°ê±´ì„ ë§Œì¡±í•  ë•Œ ìƒˆë¡œìš´ ì§€ë©´(`ground`)ì„ ìƒì„±í•˜ëŠ” ë¡œì§ì´ë‹¤.

ì—¬ê¸°ì„œ ì¡°ê±´ì€ `player.global_position.x`ê°€ `spawn_position.x - groundwidth`ì¸ë°
- `spawn_position` =>  :ì²˜ìŒì—ëŠ” ì´ groundcontainer ìœ„ì¹˜ë¡œ ì§€ì •ë˜ê³  ì§€ë©´ì´ ìƒì„±ë  ìœ„ì¹˜ë¥¼ ì €ì¥í•˜ëŠ” ë³€ìˆ˜ë‹¤
-  `groundwidth` =>  ë‚´ê°€ ë¯¸ë¦¬ ë§Œë“¤ì–´ ë†“ì€ ground ìŠ¤í”„ë¼ì´íŠ¸ì˜ ê°€ë¡œ ê¸¸ì´
- player.global_position.x > spawn_position.x - groundwidth ëŠ” í”Œë ˆì´ì–´ê°€ ì§€ë©´ì˜ ì˜¤ë¥¸ìª½ ëì— ë‹¤ë‹¤ëì„ ë•Œë¥¼ ì˜ë¯¸í•œë‹¤ 

2. spawn_ground() ìƒˆë¡œìš´ ë•…ì„ í˜¸ì¶œí•˜ëŠ” í•¨ìˆ˜

```python
func spawn_ground():		
	var instance = ground.instantiate()
	add_child(instance)
	instance.global_position.x = spawn_position.x
	instance.global_position.y = 70
	spawn_position.x += groundwidth
```

- `add_child(instance)`: ìƒì„±ëœ ì§€ë©´ ì¸ìŠ¤í„´ìŠ¤ë¥¼ í˜„ì¬ ë…¸ë“œì˜ ìì‹ìœ¼ë¡œ ì¶”ê°€í•©ë‹ˆë‹¤. ì´ê²ƒì€ Godotì˜ ì”¬ì—ì„œ ìƒˆ ì§€ë©´ì„ ì‹¤ì œë¡œ ì¶”ê°€í•œë‹¤
- . `instance.global_position.x = spawn_position.x`: ìƒˆë¡œ ìƒì„±ëœ ì§€ë©´ ì¸ìŠ¤í„´ìŠ¤ì˜ ì „ì—­ x ìœ„ì¹˜ë¥¼ `spawn_position.x`ë¡œ ì„¤ì •
- `spawn_position.x += groundwidth`: ë‹¤ìŒ ì§€ë©´ì´ ìƒì„±ë  x ìœ„ì¹˜ë¥¼ ì—…ë°ì´íŠ¸


3. í™”ë©´ì— ë‘ê°œì˜ ë•…ì´ ìˆìœ¼ë©´ ì•ˆë˜ë¯€ë¡œ ë…¸ë“œ ìì‹(=ë•…)ì´ ë‘ê°œ ìƒì„±ë˜ë©´ í•˜ë‚˜ëŠ” ì‚­ì œ
```python
if get_child_count() > 2 :
	get_children()[0].queue_free()
```


## ğŸ‘¯â€â™‚ï¸ íƒ€ì¼ë§µì— Collisionê¸°ëŠ¥ì„ ì¶”ê°€í•˜ì!

ë•…ì´ staticbodyë¡œ ì´ë£¨ì–´ì§„ê²Œ ì•„ë‹ˆë¼ íƒ€ì¼ë§µ ìì²´ì— collision ê¸°ëŠ¥ì´ ì—†ì—ˆë‹¤ ê·¸ë˜ì„œ íƒ€ì¼ì…‹ì—ì„œ ì§ì ‘ ë„£ì–´ì¤˜ì•¼í•œë‹¤.

- íƒ€ì¼ë§µì´ìš© + physicslayerë¥¼ ì¶”ê°€í•´ì„œ (ì´ê²Œ collisioníš¨ê³¼ë¥¼ì¤Œ) 

| í”Œë ˆì´ì–´ê°€ ê³µì¤‘ì— ë– ìˆëŠ” ê²ƒ ê°™ë‹¤                  | ë””ë²„ê·¸ ëª¨ë“œë¥¼ ë³´ë‹ˆ...                        |
| ------------------------------------ | ------------------------------------ |
| ![](https://i.imgur.com/aVfSvLU.png) | ![](https://i.imgur.com/HSCcB8v.png) |

ë””ë²„ê·¸ ëª¨ë“œë¡œ ë³´ë‹ˆ collisionshapeê°€ ì—„ì²­ë‘êº¼ì›Œì„œ ìƒê¸´ ë¬¸ì œì´ë‹¤ ë”°ë¼ì„œ  
íƒ€ì¼ì…‹ì—ì„œ collisionshapeë¥¼ ìˆ˜ì •í•´ì¤€ë‹¤  
ì´ë•Œ ê¼­ ì ìš©í•´ì£¼ê¸°!

| ì ìš©ì „                                  | ì ìš©í›„                                  |
| ------------------------------------ | ------------------------------------ |
| ![](https://i.imgur.com/TpmbvO8.png) | ![](https://i.imgur.com/sKWJTpL.png) |

ì„±ê³µ!  
![](https://i.imgur.com/d5AqtdT.png)




--- 

## ğŸ‘¯â€â™‚ï¸ Ref & LINKS TO THIS PAGE

- [ìœ íŠœë¸Œ, godot-parallax scrollling](https://youtu.be/1k0hKUtZrq0)
- https://youtube.com/shorts/S8vri9gxQHM?si=8ThaXBeYuUYb71nK


